body.win98-mode {
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  font-family: 'MS Sans Serif', 'Segoe UI', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif !important;
  background: #008080 !important;
}

body:not(.win98-mode) 
{
  font-family: inherit !important;
  background: inherit !important;
  overflow: auto !important;
  margin: inherit !important;
  padding: inherit !important;
}

.win98-container 
{
  min-height: 100vh;
  font-family: 'MS Sans Serif', 'Segoe UI', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif !important;
  background: #008080 !important;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  position: relative;
  isolation: isolate;
  contain: layout style paint;
}

.win98-container * 
{
  font-family: 'MS Sans Serif', 'Segoe UI', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif !important;
  box-sizing: border-box;
}

.win98-container button,
.win98-container input,
.win98-container select,
.win98-container textarea 
{
  font-family: 'MS Sans Serif', 'Segoe UI', sans-serif !important;
  font-size: 11px;
}

/* Emoji fallback styling */
.win98-container .emoji-fallback {
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', sans-serif !important;
  font-size: 16px;
  line-height: 1;
  font-variant-emoji: emoji;
}

/* Icon styling */
.win98-container img {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

.win98-container .window { position: relative; }

.win98-container .title-bar 
{
  cursor: grab;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.win98-container .title-bar:active { cursor: grabbing; }

.win98-container.dragging 
{
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.win98-container.dragging iframe { pointer-events: none; }

.win98-container .title-bar button { cursor: pointer; }

.win98-container .desktop-icon:hover 
{
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.win98-container .start-menu div:hover 
{
  background: #316ac5 !important;
  color: white !important;
}

.win98-container button 
{
  font-family: 'MS Sans Serif', sans-serif;
  font-size: 11px;
}

.win98-container fieldset 
{
  margin: 0;
  border: 2px groove #c0c0c0;
  padding: 10px;
}

.win98-container legend 
{
  font-weight: bold;
  font-size: 11px;
  padding: 0 5px;
}

.win98-container .sunken-panel 
{
  border: 2px inset #c0c0c0;
  background: #c0c0c0;
}

.win98-container .field-row 
{
  display: flex;
  align-items: center;
  margin-bottom: 8px;
}

.win98-container .title-bar 
{
  background: linear-gradient(90deg, #000080, #1084d0);
  color: white;
  padding: 2px;
  font-size: 11px;
  font-weight: normal;
}

.win98-container .title-bar-text 
{
  padding: 2px 6px;
  flex: 1;
}

.win98-container .title-bar-controls 
{
  display: flex;
  gap: 2px;
}

.win98-container .window-body 
{
  background: #c0c0c0;
  border: 2px inset #c0c0c0;
}

.win98-container .status-bar 
{
  display: flex;
  background: #c0c0c0;
  border-top: 1px solid #808080;
  font-size: 11px;
}

.win98-container .status-bar-field 
{
  padding: 2px 6px;
  border-right: 1px solid #808080;
  margin: 0;
}

.win98-container button img[src*="start.png"] { transition: all 0.1s ease !important; }

.win98-container button:has(img[src*="start.png"]):hover 
{
  background: #dfdfdf !important;
  border: 1px outset #dfdfdf !important;
}

.win98-container button:has(img[src*="start.png"]):active 
{
  border: 1px inset #c0c0c0 !important;
  background: #a0a0a0 !important;
}

.win98-container img 
{
  image-rendering: -moz-crisp-edges !important;
  image-rendering: -webkit-crisp-edges !important;
  image-rendering: pixelated !important;
  image-rendering: crisp-edges !important;
}

.win98-container .title-bar-controls button 
{
  width: 16px !important;
  height: 14px !important;
  padding: 0 !important;
  margin: 0 1px !important;
  background: #c0c0c0 !important;
  border: 1px outset #c0c0c0 !important;
  color: #000 !important;
  font-family: 'MS Sans Serif', sans-serif !important;
  font-weight: normal !important;
  display: inline-block !important;
  cursor: pointer !important;
  font-size: 6px !important;
  line-height: 1 !important;
  position: relative !important;
  overflow: hidden !important;
}

.win98-container .title-bar-controls button:hover { background: #dfdfdf !important; }

.win98-container .title-bar-controls button:active 
{
  border: 1px inset #c0c0c0 !important;
  background: #a0a0a0 !important;
}

.win98-container .title-bar-controls button[aria-label="Minimize"]::before 
{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 1px;
  background: #000;
  border-bottom: 1px solid #000;
}

.win98-container .title-bar-controls button[aria-label="Maximize"]::before 
{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 6px;
  height: 6px;
  border: 1px solid #000;
  border-top: 2px solid #000;
  background: transparent;
  box-sizing: border-box;
}

.win98-container .title-bar-controls button[aria-label="Close"]::before 
{
  content: "×";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: 9px;
  font-weight: bold;
  color: #000;
  font-family: Arial, sans-serif;
}

.win98-container button::before,
.win98-container button::after { content: none !important; }

.win98-container .title-bar-controls button::before { content: "" !important; }

.win98-container .title-bar-controls button[aria-label="Close"]::before { content: "×" !important; }

/* ===== WINDOWS 98 LOADER STYLES ===== */

.win98-loader 
{
  font-family: 'MS Sans Serif', sans-serif !important;
  position: relative;
  overflow: hidden;
}

.matrix-rain 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.matrix-drop 
{
  position: absolute;
  color: #00ff00;
  font-family: 'Courier New', monospace;
  font-size: 12px;
  font-weight: bold;
  text-shadow: 0 0 5px #00ff00;
  animation: matrixFall 3s linear infinite;
}

@keyframes matrixFall 
{
  0% { transform: translateY(-100vh); opacity: 1; }
  100% { transform: translateY(100vh); opacity: 0; }
}

.digital-rain 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

.digital-drop 
{
  position: absolute;
  font-family: 'Courier New', monospace;
  font-size: 10px;
  font-weight: bold;
  text-shadow: 0 0 3px currentColor;
  animation: digitalFall 4s linear infinite;
}

@keyframes digitalFall 
{
  0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}

.particles 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 3;
}

.particle 
{
  position: absolute;
  border-radius: 50%;
  animation: particleFloat 6s ease-in-out infinite;
  box-shadow: 0 0 10px currentColor;
}

@keyframes particleFloat 
{
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.8; }
  25% { transform: translate(10px, -20px) scale(1.2); opacity: 1; }
  50% { transform: translate(-15px, -40px) scale(0.8); opacity: 0.6; }
  75% { transform: translate(20px, -10px) scale(1.1); opacity: 0.9; }
}

.data-stream 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 4;
}

.data-chunk 
{
  position: absolute;
  color: #00ffff;
  font-family: 'Courier New', monospace;
  font-size: 8px;
  font-weight: bold;
  text-shadow: 0 0 5px #00ffff;
  animation: dataFlow 5s linear infinite;
}

@keyframes dataFlow 
{
  0% { transform: translateX(-100vw) rotateY(0deg); opacity: 1; }
  100% { transform: translateX(100vw) rotateY(360deg); opacity: 0; }
}

.scanlines 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 255, 0, 0.03) 2px,
    rgba(0, 255, 0, 0.03) 4px
  );
  animation: scanlineMove 0.1s linear infinite;
  z-index: 10;
}

@keyframes scanlineMove 
{
  0% { transform: translateY(0); }
  100% { transform: translateY(4px); }
}

.crt-overlay 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 60%, rgba(0, 0, 0, 0.3) 100%);
  z-index: 11;
}

.hologram-overlay 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: linear-gradient(
    45deg,
    transparent 40%,
    rgba(0, 255, 255, 0.1) 50%,
    transparent 60%
  );
  animation: hologramShift 2s ease-in-out infinite;
  z-index: 12;
}

@keyframes hologramShift 
{
  0%, 100% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
}

.energy-field 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(255, 0, 255, 0.2) 0%,
    rgba(0, 255, 255, 0.1) 50%,
    transparent 100%
  );
  animation: energyPulse 3s ease-in-out infinite;
  z-index: 5;
}

@keyframes energyPulse 
{
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 1; }
}

.circuit-overlay 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 6;
}

.circuit-line { animation: circuitPulse 2s ease-in-out infinite; }

.circuit-node { animation: nodePulse 1.5s ease-in-out infinite; }

@keyframes circuitPulse 
{
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

@keyframes nodePulse 
{
  0%, 100% { r: 2; opacity: 0.5; }
  50% { r: 4; opacity: 1; }
}

.laser-overlay 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 7;
}

.laser-beam 
{
  position: absolute;
  top: 0;
  width: 2px;
  height: 100%;
  background: linear-gradient(to bottom, 
    transparent 0%,
    #ff0080 20%,
    #00ffff 50%,
    #ff0080 80%,
    transparent 100%
  );
  animation: laserSweep 3s ease-in-out infinite;
  box-shadow: 0 0 10px currentColor;
}

@keyframes laserSweep {
  0%, 100% { opacity: 0; transform: scaleY(0); }
  50% { opacity: 1; transform: scaleY(1); }
}

.ripple-overlay 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 8;
}

.ripple 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border: 2px solid #00ffff;
  border-radius: 50%;
  animation: rippleExpand 3s ease-out infinite;
}

@keyframes rippleExpand 
{
  0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
  100% { transform: translate(-50%, -50%) scale(20); opacity: 0; }
}

.dna-helix 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9;
}

.dna-strand 
{
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  animation: dnaRotate 4s linear infinite;
  box-shadow: 0 0 5px currentColor;
}

@keyframes dnaRotate 
{
  0% { transform: rotate(0deg) translateY(0px); }
  100% { transform: rotate(360deg) translateY(-10px); }
}

.cosmic-dust 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 10;
}

.dust-particle 
{
  position: absolute;
  background: radial-gradient(circle, #ffffff 0%, transparent 70%);
  border-radius: 50%;
  animation: dustFloat 8s ease-in-out infinite;
}

@keyframes dustFloat 
{
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(20px, -30px) rotate(90deg); }
  50% { transform: translate(-10px, -60px) rotate(180deg); }
  75% { transform: translate(30px, -20px) rotate(270deg); }
}

.magnetic-field 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 11;
}

.magnetic-node 
{
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  animation: magneticPulse 2s ease-in-out infinite;
}

.magnetic-node.positive 
{
  background: radial-gradient(circle, #ff0080 0%, transparent 70%);
  box-shadow: 0 0 15px #ff0080;
}

.magnetic-node.negative 
{
  background: radial-gradient(circle, #0080ff 0%, transparent 70%);
  box-shadow: 0 0 15px #0080ff;
}

@keyframes magneticPulse 
{
  0%, 100% { transform: scale(1); opacity: 0.7; }
  50% { transform: scale(1.5); opacity: 1; }
}

.crystal-formation 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 12;
}

.crystal 
{
  position: absolute;
  animation: crystalGrow 3s ease-in-out infinite;
  filter: brightness(1.2) saturate(1.5);
  box-shadow: 0 0 20px currentColor;
}

@keyframes crystalGrow 
{
  0%, 100% { transform: scale(0.8) rotate(0deg); opacity: 0.8; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
}

.neural-network 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 13;
}

.neuron { animation: neuronPulse 2s ease-in-out infinite; }

.neural-connection { animation: connectionFlow 3s ease-in-out infinite; }

@keyframes neuronPulse 
{
  0%, 100% { r: 3; opacity: 0.7; }
  50% { r: 6; opacity: 1; }
}

@keyframes connectionFlow 
{
  0%, 100% { stroke-dasharray: 5, 5; stroke-dashoffset: 10; }
  50% { stroke-dasharray: 10, 5; stroke-dashoffset: 0; }
}

.vortex-overlay 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 14;
}

.vortex-ring 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  border: 2px solid #ff00ff;
  border-radius: 50%;
  animation: vortexSpin 2s linear infinite;
}

@keyframes vortexSpin 
{
  0% { transform: translate(-50%, -50%) rotate(0deg) scale(0.5); opacity: 1; }
  100% { transform: translate(-50%, -50%) rotate(360deg) scale(3); opacity: 0; }
}

.prismatic-wave 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 15;
}

.wave-band 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 20%;
  opacity: 0.6;
  animation: prismWave 3s ease-in-out infinite;
}

@keyframes prismWave 
{
  0%, 100% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
}

.time-warp 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 16;
}

.warp-field 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    transparent 30%,
    rgba(128, 0, 255, 0.1) 50%,
    rgba(255, 0, 128, 0.2) 70%,
    transparent 100%
  );
  animation: warpDistort 4s ease-in-out infinite;
}

.time-particles 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.time-particle 
{
  position: absolute;
  width: 2px;
  height: 2px;
  background: #ffffff;
  border-radius: 50%;
  animation: timeParticleMove 5s linear infinite;
  box-shadow: 0 0 5px #ffffff;
}

@keyframes warpDistort 
{
  0%, 100% { transform: scale(1) rotate(0deg); }
  50% { transform: scale(1.1) rotate(180deg); }
}

@keyframes timeParticleMove 
{
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(100px, -200px) scale(0); opacity: 0; }
}

.dimensional-rift 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  pointer-events: none;
  z-index: 17;
}

.rift-core 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 100px;
  background: linear-gradient(to bottom, #ff0080, #8000ff, #0080ff);
  animation: riftPulse 2s ease-in-out infinite;
  box-shadow: 0 0 30px #ff0080;
}

.rift-energy 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
}

.energy-bolt 
{
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2px;
  height: 60px;
  background: linear-gradient(to bottom, transparent, #ffff00, transparent);
  transform-origin: bottom center;
  animation: energyBolt 1s ease-in-out infinite;
}

@keyframes riftPulse 
{
  0%, 100% { transform: translate(-50%, -50%) scaleY(1); }
  50% { transform: translate(-50%, -50%) scaleY(1.5); }
}

@keyframes energyBolt 
{
  0%, 100% { opacity: 0; transform: translate(-50%, 0) scaleY(0); }
  50% { opacity: 1; transform: translate(-50%, 0) scaleY(1); }
}

.kaleidoscope 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  pointer-events: none;
  z-index: 18;
}

.kaleidoscope-segment 
{
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 100px;
  background: linear-gradient(to bottom, 
    #ff0080, #00ff80, #8000ff, #ff8000, #0080ff
  );
  transform-origin: bottom center;
  animation: kaleidoscopeRotate 4s linear infinite;
  opacity: 0.8;
}

@keyframes kaleidoscopeRotate 
{
  0% { transform: translate(-50%, 0) rotate(0deg) scaleY(0.5); }
  100% { transform: translate(-50%, 0) rotate(360deg) scaleY(1.5); }
}

.plasma-storm 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 19;
}

.plasma-bolt 
{
  position: absolute;
  width: 3px;
  height: 30px;
  background: linear-gradient(45deg, #ff0080, #00ffff, #ffff00);
  border-radius: 2px;
  animation: plasmaBolt 1.5s ease-in-out infinite;
  box-shadow: 0 0 15px currentColor;
}

@keyframes plasmaBolt 
{
  0%, 100% 
  { 
    transform: rotate(0deg) scale(1); 
    opacity: 0; 
  }

  10%, 90% 
  { 
    opacity: 1; 
  }

  50% 
  { 
    transform: rotate(180deg) scale(1.5); 
    opacity: 1; 
  }
}

.black-hole 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 150px;
  height: 150px;
  pointer-events: none;
  z-index: 20;
}

.event-horizon 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  background: radial-gradient(circle, #000000 0%, transparent 70%);
  border-radius: 50%;
  animation: blackHolePulse 3s ease-in-out infinite;
  box-shadow: 0 0 30px #000000;
}

.accretion-disk 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
}

.matter-stream 
{
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2px;
  height: 75px;
  background: linear-gradient(to bottom, 
    transparent, 
    #ff8000 30%, 
    #ffff00 70%, 
    transparent
  );
  transform-origin: bottom center;
  animation: matterStream 2s linear infinite;
}

@keyframes blackHolePulse 
{
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.2); }
}

@keyframes matterStream 
{
  0% { transform: translate(-50%, 0) rotate(0deg) scaleY(1); opacity: 1; }
  100% { transform: translate(-50%, 0) rotate(360deg) scaleY(0.3); opacity: 0.3; }
}

.particle-accelerator 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 300px;
  pointer-events: none;
  z-index: 21;
}

.accelerator-ring 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  border: 3px solid #00ffff;
  border-radius: 50%;
  animation: ringPulse 2s ease-in-out infinite;
}

.accelerated-particle 
{
  position: absolute;
  top: 50%;
  left: 50%;
  width: 4px;
  height: 4px;
  background: #ffff00;
  border-radius: 50%;
  transform-origin: 150px 0;
  animation: particleAccelerate 1s linear infinite;
  box-shadow: 0 0 10px #ffff00;
}

@keyframes ringPulse 
{
  0%, 100% { border-color: #00ffff; box-shadow: 0 0 20px #00ffff; }
  50% { border-color: #ff00ff; box-shadow: 0 0 40px #ff00ff; }
}

@keyframes particleAccelerate 
{
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

.fractal-zoom 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  pointer-events: none;
  z-index: 22;
}

.fractal-layer 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border: 2px solid #ff0080;
  animation: fractalZoom 3s ease-in-out infinite;
}

@keyframes fractalZoom 
{
  0% 
  { 
    transform: translate(-50%, -50%) scale(0.1) rotate(0deg); 
    opacity: 1; 
    border-color: #ff0080; 
  }

  50% 
  { 
    transform: translate(-50%, -50%) scale(2) rotate(180deg); 
    opacity: 0.7; 
    border-color: #00ffff; 
  }

  100% 
  { 
    transform: translate(-50%, -50%) scale(5) rotate(360deg); 
    opacity: 0; 
    border-color: #ffff00; 
  }
}

.aurora-borealis 
{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 23;
}

.aurora-band 
{
  position: absolute;
  left: 0;
  width: 100%;
  opacity: 0.7;
  animation: auroraWave 5s ease-in-out infinite;
  filter: blur(2px);
}

@keyframes auroraWave 
{
  0%, 100% 
  { 
    transform: translateX(-20px) skewX(0deg); 
    opacity: 0.7; 
  }

  25% 
  { 
    transform: translateX(20px) skewX(5deg); 
    opacity: 1; 
  }

  50% 
  { 
    transform: translateX(-10px) skewX(-3deg); 
    opacity: 0.8; 
  }

  75% 
  { 
    transform: translateX(15px) skewX(2deg); 
    opacity: 0.9; 
  }
}

.win98-loader-boot-screen 
{
  position: relative;
  z-index: 100;
}

.win98-loader-title { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }

.win98-loader-logo img 
{
  transition: all 0.3s ease;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

.win98-loader-logo:hover img 
{
  transform: scale(1.1);
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.8)) brightness(1.2);
}

.rotating-logo { animation: logoRotate 8s linear infinite, logoPulse 2s ease-in-out infinite alternate; }

@keyframes logoRotate 
{
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes logoPulse 
{
  0% 
  {
    box-shadow: 0 0 10px rgba(255, 107, 53, 0.5),
                inset 0 0 20px rgba(255, 255, 255, 0.1);
  }

  100% 
  {
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.8),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
  }
}

.win98-icon-loader 
{
  position: relative;
  display: inline-block;
}

.win98-icon-loader::before 
{
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  background: conic-gradient(
    from 0deg,
    transparent,
    rgba(0, 123, 255, 0.4),
    transparent,
    rgba(255, 193, 7, 0.4),
    transparent,
    rgba(40, 167, 69, 0.4),
    transparent,
    rgba(220, 53, 69, 0.4),
    transparent
  );
  border-radius: 50%;
  animation: iconSpinner 2s linear infinite;
  z-index: -1;
}

@keyframes iconSpinner { to { transform: rotate(360deg); } }

.win98-logo-glow { position: relative; }

.win98-logo-glow::after 
{
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(0, 123, 255, 0.2) 30%,
    transparent 70%
  );
  transform: translate(-50%, -50%);
  border-radius: 50%;
  animation: logoGlow 3s ease-in-out infinite alternate;
  pointer-events: none;
}

@keyframes logoGlow 
{
  0% 
  {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(0.8);
  }

  100% 
  {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
}

.sound-waves 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  pointer-events: none;
}

.sound-wave 
{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 2px solid rgba(0, 123, 255, 0.3);
  border-radius: 50%;
  animation: soundWaveExpand 2s ease-out infinite;
}

.sound-wave:nth-child(2) { animation-delay: 0.5s; }
.sound-wave:nth-child(3) { animation-delay: 1s; }
.sound-wave:nth-child(4) { animation-delay: 1.5s; }

@keyframes soundWaveExpand 
{
  0% 
  {
    width: 0;
    height: 0;
    opacity: 1;
  }

  100% 
  {
    width: 200px;
    height: 200px;
    opacity: 0;
  }
}

.win98-loader-logo::before 
{
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  border-radius: 50%;
  animation: scanlineMove 0.1s linear infinite;
}

@keyframes scanlineMove 
{
  0% { transform: translateY(0); }
  100% { transform: translateY(4px); }
}

@media(max-width: 768px) 
{
  .win98-loader-boot-screen { padding: 20px !important; }
  
  .loading-panel { width: 90% !important; }
  
  .system-info 
  {
    font-size: 8px !important;
    padding: 5px !important;
  }
  
  .matrix-drop, .digital-drop { font-size: 8px !important; }
  
  .particle 
  {
    width: 2px !important;
    height: 2px !important;
  }
}

.win98-container .context-menu 
{
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  border: 2px outset #c0c0c0;
  background: #c0c0c0;
}

.win98-container .context-menu button 
{
  width: 100%;
  text-align: left;
  border: 1px solid transparent;
  background: transparent;
  font-size: 11px;
  padding: 4px 8px;
  cursor: pointer;
}

.win98-container .context-menu button:hover 
{
  background: #316ac5;
  color: white;
  border: 1px solid #316ac5;
}

.win98-container .desktop-icon { transition: background-color 0.1s ease; }

.win98-container .desktop-icon:hover 
{
  background: rgba(255, 255, 255, 0.1);
  border: 1px dotted rgba(255, 255, 255, 0.5);
}

.win98-container .desktop-icon.dragging 
{
  opacity: 0.8;
  transform: scale(1.05);
  z-index: 1000;
}

.win98-container .desktop-icon[data-type="file"] { border: 1px solid transparent; }

.win98-container .desktop-icon[data-type="file"]:hover 
{
  background: rgba(255, 255, 255, 0.15);
  border: 1px dotted rgba(255, 255, 255, 0.7);
}

.win98-container .desktop-icon[data-id="recycle-bin"] { transition: all 0.2s ease; }

.win98-container .desktop-icon[data-id="recycle-bin"].drop-hover 
{
  background: rgba(255, 255, 0, 0.2);
  border: 2px dashed yellow;
  transform: scale(1.1);
}

@keyframes file-created 
{
  0% 
  {
    opacity: 0;
    transform: scale(0.5);
  }

  50% 
  {
    opacity: 0.8;
    transform: scale(1.1);
  }

  100% 
  {
    opacity: 1;
    transform: scale(1);
  }
}

.win98-container .desktop-icon.newly-created { animation: file-created 0.3s ease-out; }

.win98-container .drag-ghost 
{
  position: absolute;
  pointer-events: none;
  opacity: 0.5;
  z-index: 9999;
  transform: rotate(5deg);
}

.win98-container .theme-manager-window { z-index: 10000 !important; }

.desktop-icon 
{
  transition: background-color 0.2s ease;
  user-select: none;
}

.desktop-icon:hover { background-color: rgba(255, 255, 255, 0.1) !important; }

.desktop-icon.dragging 
{
  opacity: 0.8;
  transform: rotate(2deg);
  z-index: 9998 !important;
}

.desktop-icon.selected 
{
  background-color: rgba(0, 0, 128, 0.3) !important;
  border: 1px dotted rgba(255, 255, 255, 0.8) !important;
}

.desktop-icon img { transition: transform 0.1s ease; }

.desktop-icon:hover img { transform: scale(1.05); }

.desktop-icon:active img { transform: scale(0.95); }

.theme-manager-window { z-index: 10000 !important; }

.win98-container > div:not(.window):not(.theme-manager-window) 
{
  z-index: 999;
}

.theme-manager-window 
{
  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  background: var(--win98-window, #c0c0c0);
  border: 2px outset #c0c0c0;
}

.theme-manager-window .window-body 
{
  background: var(--win98-window, #c0c0c0);
  color: var(--win98-text, #000000);
}

.theme-item 
{
  transition: all 0.2s ease;
  user-select: none;
}

.theme-item:hover 
{
  background: #e8e8e8 !important;
  transform: translateY(-1px);
}

.theme-item.selected 
{
  background: #d4d0c8 !important;
  border: 2px solid var(--win98-accent, #000080) !important;
  box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.win98-container > div[style*="position: absolute"][style*="top: 20px"] > div:hover 
{
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 4px;
}

:root 
{
  --win98-primary: #008080;
  --win98-secondary: #c0c0c0;
  --win98-accent: #000080;
  --win98-window: #c0c0c0;
  --win98-text: #000000;
  --win98-highlight: #0000ff;
}

.win98-container { background: var(--win98-primary) !important; }

.win98-container .window 
{
  background: var(--win98-window);
  color: var(--win98-text);
}

.win98-container .title-bar 
{
  background: var(--win98-secondary);
  color: var(--win98-text);
}

.win98-container .title-bar-text { color: var(--win98-text); }

.win98-container button 
{
  background: var(--win98-secondary);
  color: var(--win98-text);
}

.win98-container button:hover 
{
  background: var(--win98-highlight);
  color: white;
}

.win98-container .status-bar 
{
  background: var(--win98-secondary);
  color: var(--win98-text);
}

.win98-container fieldset { border-color: var(--win98-text); }

.win98-container legend { color: var(--win98-text); }

body.win98-mode.matrix-theme 
{
  --win98-primary: #000000;
  --win98-secondary: #001100;
  --win98-accent: #00ff00;
  --win98-window: #001100;
  --win98-text: #00ff00;
  --win98-highlight: #00ff00;
}

body.win98-mode.cyber-theme 
{
  --win98-primary: #0a0a0a;
  --win98-secondary: #1a0033;
  --win98-accent: #ff00ff;
  --win98-window: #1a0033;
  --win98-text: #00ffff;
  --win98-highlight: #ff00ff;
}

.desktop-icon { z-index: 100 !important; }

.desktop-icon.dragging { z-index: 101 !important; }

.theme-manager-window 
{
  z-index: 10000 !important;
  position: absolute !important;
}

.win98-container .window { z-index: 1000; }

.win98-container .window.dragging { z-index: 1001; }

.win98-container > div[style*="position: fixed"][style*="bottom: 0"] { z-index: 9999 !important; }

.theme-manager-window { animation: windowSlideIn 0.3s ease-out; }

@keyframes windowSlideIn 
{
  from 
  {
    opacity: 0;
    transform: scale(0.8) translateY(-20px);
  }

  to 
  {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.theme-item { animation: themeItemFadeIn 0.2s ease-out; }

@keyframes themeItemFadeIn 
{
  from 
  {
    opacity: 0;
    transform: translateY(10px);
  }

  to 
  {
    opacity: 1;
    transform: translateY(0);
  }
}

.theme-item .color-preview { transition: transform 0.2s ease; }

.theme-item:hover .color-preview { transform: scale(1.1); }

.win98-container,
.win98-container .window,
.win98-container .title-bar,
.win98-container button,
.win98-container .status-bar 
{
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

.win98-container .title-bar-controls button 
{
  width: 16px;
  height: 14px;
  border: 1px outset #c0c0c0;
  background: #c0c0c0;
  font-size: 10px;
  line-height: 1;
  padding: 0;
  margin: 0 1px;
  color: black;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'MS Sans Serif', sans-serif;
}

.win98-container .title-bar-controls button:active 
{
  border: 1px inset #c0c0c0;
  background: #c0c0c0;
}

.win98-container .title-bar-controls button:hover { background: #dfdfdf; }

.win98-container .title-bar-controls button span 
{
  pointer-events: none;
  user-select: none;
}

.win98-container .title-bar-controls button[aria-label="Minimize"]::after 
{
  content: '_';
  font-weight: bold;
  position: absolute;
  font-size: 12px;
}

.win98-container .title-bar-controls button[aria-label="Maximize"]::after 
{
  content: '☐';
  font-size: 8px;
  position: absolute;
}

.win98-container .title-bar-controls button[aria-label="Restore"]::after 
{
  content: '❐';
  font-size: 8px;
  position: absolute;
}

.win98-container .title-bar-controls button[aria-label="Close"]::after 
{
  content: '×';
  font-weight: bold;
  position: absolute;
  font-size: 12px;
}